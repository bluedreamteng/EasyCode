<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>项目单位产值添加</title>
    <!-- 请修改相对路径 -->
    <script src="../../../../../frame/fui/js/cssboot.js"></script>
</head>

<body>
<!-- 必须有，加载时的loading效果 -->
<div class="page-loading"></div>
<!-- toolbar区域 -->
<div class="fui-toolbar">
    <div class="btn-group mr10">
        <a class="mini-button" id="addNew" onclick="saveAndNew">保存并新建</a>
        <a class="mini-button" id="addClose" onclick="saveAndClose">保存并关闭</a>
        <a class="mini-button" onclick="epoint.closeDialog">关闭</a>
    </div>
</div>

<!-- 内容区域 -->
<div class="fui-content">
    <div id="fui-form" class="fui-form" style="width:90%">
        <div role="form">
            <div role="row">
                <div role="control" label="操作人" starred="true">
                    <input id="operateusername" class="mini-textbox" bind="dataBean.operateusername" required="true"
                           requiredErrorText="操作人不能为空!"/></div>
                <div role="control" label="操作日期" starred="true">
                    <input id="operatedate" class="mini-textbox" bind="dataBean.operatedate" required="true"
                           requiredErrorText="操作日期不能为空!"/></div>
            </div>
            <div role="row">
                <div role="control" label="项目名称" starred="true">
                    <input id="projectname" class="mini-textbox" bind="dataBean.projectname" required="true"
                           requiredErrorText="项目名称不能为空!"/></div>
                <div role="control" label="项目标识" starred="true">
                    <input id="projectguid" class="mini-textbox" bind="dataBean.projectguid" required="true"
                           requiredErrorText="项目标识不能为空!"/></div>
            </div>
            <div role="row">
                <div role="control" label="企业类型" starred="true">
                    <input id="corptype" class="mini-textbox" bind="dataBean.corptype" required="true"
                           requiredErrorText="企业类型不能为空!"/></div>
                <div role="control" label="企业名称" starred="true">
                    <input id="corpname" class="mini-textbox" bind="dataBean.corpname" required="true"
                           requiredErrorText="企业名称不能为空!"/></div>
            </div>
            <div role="row">
                <div role="control" label="合同名称" starred="true">
                    <input id="contractname" class="mini-textbox" bind="dataBean.contractname" required="true"
                           requiredErrorText="合同名称不能为空!"/></div>

                <div role="control" label="合同签订时间" starred="true">
                    <input id="contractsigndate" class="mini-textbox" bind="dataBean.contractsigndate" required="true"
                           requiredErrorText="合同签订时间不能为空!"/></div>
            </div>
            <div role="row">
                <div role="control" label="合同金额" starred="true">
                    <input id="contractamount" class="mini-textbox" bind="dataBean.contractamount" required="true"
                           requiredErrorText="合同金额不能为空!" vType="float"/></div>
                <div role="control" label="负责人" starred="true">
                    <input id="fzr" class="mini-textbox" bind="dataBean.fzr" required="true"
                           requiredErrorText="负责人不能为空!"/></div>
            </div>
            <div role="row">
                <div role="control" label="负责人联系方式" starred="true">
                    <input id="fzrtel" class="mini-textbox" bind="dataBean.fzrtel" required="true"
                           requiredErrorText="负责人联系方式不能为空!"/></div>
            </div>
        </div>
    </div>
</div>

<!-- 请修改相对路径 -->
<script src="../../../../../rest/resource/jsboot"></script>
<script>
    // 初始化页面
    epoint.initPage('zhgdcorpoutputvalueaddaction');

    function saveAndNew() {
        if (epoint.validate()) {
            epoint.execute('addNew', 'fui-form', newCallback);
        }
    }

    function saveAndClose() {
        if (epoint.validate()) {
            epoint.execute('add', 'fui-form', closeCallback);
        }
    }

    // 新增操作的回调
    function newCallback(data) {
        if (data.msg) {
            epoint.alert(data.msg, '', null, 'info');
            // 清空表单
            epoint.clear('fui-form');
        }
    }

    // 关闭操作的回调
    function closeCallback(data) {
        if (data.msg) {
            epoint.alertAndClose(data.msg, '', null, null, 'info');
        }
    }
</script>
</body>
</html>